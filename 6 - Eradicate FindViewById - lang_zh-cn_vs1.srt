1
00:00:00,000 --> 00:00:05,443 
接下来我们要做的大事是深入了解Kotlin，

2
00:00:05,443 --> 00:00:09,825
在这里扔掉所有的find view by ID的调用

3
00:00:09,825 --> 00:00:12,430
感谢神奇的Kotlin插件,

4
00:00:12,430 --> 00:00:14,710
他们现在要被遗弃了。

5
00:00:14,710 --> 00:00:18,510
首先，我们需要在我们的build.gradle文件中安装一些插件,

6
00:00:18,510 --> 00:00:20,845
他们叫做Kotlin android extensions.

7
00:00:20,845 --> 00:00:23,985
一旦gradle完成同步我会告诉你它将做什么。

8
00:00:23,985 --> 00:00:30,245
好吧，让我们回到MainActivity，删除recycler声明。

9
00:00:30,245 --> 00:00:34,665
现在，您注意到，一旦我们这样做，Android Studio会提供导入一些东西.

10
00:00:34,665 --> 00:00:36,145 
如果允许它继续进行，

11
00:00:36,145 --> 00:00:39,500
您将注意到文件顶部的这个新的导入.

12
00:00:39,500 --> 00:00:42,370
因此，这里实际发生了

13
00:00:42,370 --> 00:00:45,885
Kotlin在同步时遍历了所有的布局文件,

14
00:00:45,885 --> 00:00:48,910
并且它创建包含扩展vowels的

15
00:00:48,910 --> 00:00:52,720
synthetic源文件，用于找到具有ID的每个view.

16
00:00:52,720 --> 00:00:55,930
ID成为vowel本身的名称。

17
00:00:55,930 --> 00:00:58,415
现在我们可以做一些事.

18
00:00:58,415 --> 00:01:00,825 
首先，我们可以摆脱这个任务.

19
00:01:00,825 --> 00:01:02,470
 Kotlin会为我们提供支持.


20
00:01:02,470 --> 00:01:06,370
第二，我们可以删除所有的双感叹号,

21
00:01:06,370 --> 00:01:09,400
因为它自动知道它有可空性。

22
00:01:09,400 --> 00:01:12,060
我们还可以移除Toolbar和fab的初始化

23
00:01:12,060 --> 00:01:15,040
因为它们也可以由extension函数提供.

24
00:01:15,040 --> 00:01:17,290
那么，它是怎么运行的呢？

25
00:01:17,290 --> 00:01:20,845
这是通过神奇的扩展函数生成的，

26
00:01:20,845 --> 00:01:23,035
我们将在后面的课程学习。

27
00:01:23,035 --> 00:01:26,080
但它基本上像是能够在事实之后

28
00:01:26,080 --> 00:01:29,755
将函数和属性附加到现有的类中.

29
00:01:29,755 --> 00:01:32,275
因为它是一个编译器插件

30
00:01:32,275 --> 00:01:33,850
它实际上正在运行

31
00:01:33,850 --> 00:01:35,635
并注入缓存代码，

32
00:01:35,635 --> 00:01:39,290
并将字段支持添加到引擎下的activity类中.

33
00:01:39,290 --> 00:01:42,025
所以你获得很好的体验。

34
00:01:42,025 --> 00:01:45,235
现在，Android扩展插件很惊人的,

35
00:01:45,235 --> 00:01:47,980
但是它也有很重要的局限性。

36
00:01:47,980 --> 00:01:53,340
具体来说，有时它和Instant Run不太兼容。

37
00:01:53,340 --> 00:01:56,100
因此，如果你遇到了奇怪的崩溃，

38
00:01:56,100 --> 00:01:57,805
clean build一下并继续,

39
00:01:57,805 --> 00:02:00,000
Instant Run应该就好了。